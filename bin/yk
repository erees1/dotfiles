#! /bin/bash
set -euo pipefail

function print_OSC52() {
  esc="\033]52;c;$( printf %s "$1" | base64 | tr -d '\r\n')\a"
  printf $esc
}

buf=$(cat "$@")
buf_len=${#buf}

print_OSC52 "$buf"
>&2 echo "Copied $buf_len characters to clipboard"
