#compdef msa

# AUTOCOMPLETION FOR ZSH
# Reference: https://zsh.sourceforge.io/Doc/Release/Completion-Widgets.html

local -a opts
pushd $HOME/git/aladdin > /dev/null
list="$(git worktree list | awk '{ print $1; }' | grep -v '\.bare' | tr "\n" " ")"
popd > /dev/null

setopt shwordsplit
for item in $list; do
    base="$(basename -- "$item")"
    opts+=("$base")
done

_describe 'command' opts
